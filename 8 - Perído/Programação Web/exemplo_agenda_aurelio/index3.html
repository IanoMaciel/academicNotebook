<!DOCTYPE html>

<html>
<head>
  <meta charset="utf-8" />

</head>
<body>

<p>Clique no botão para verificar se o browser aceita web sql.</p>


         <button onclick="verficabrowser()">Pressione-me</button>

<p>Clique no botão para criar e popular um banco de dados web sql.</p>


         <button onclick="criarbanco()">Pressione-me</button>

<p>Clique no botão para recuperar dados em um banco de dados web sql.</p>


         <button onclick="recuperar()">Pressione-me</button>

<p>Clique no botão para excluir uma tabela em um banco de dados web sql.</p>


         <button onclick="excluirtabela()">Pressione-me</button>

<script>


function verficabrowser()

{
if (window.openDatabase)
  {
     alert("Este browser suporta Web SQL Databases");
  }
  else
  {
    alert("Este browser suporta NÃO Web SQL Databases");
 }
}

function criarbanco()

{
var db = openDatabase(
     'meuBanco', 
     '1.0', 
     'My database',
     2 * 1024 * 1024
     );
  
  db.transaction( function (tx) {
     tx.executeSql(
       'CREATE TABLE IF NOT EXISTS contacts (id, name)',
       [],
       function ()
       {
          tx.executeSql(
    'INSERT INTO contacts (id, name) VALUES (1, "Elemar")');
          tx.executeSql(
    'INSERT INTO contacts (id, name) VALUES (2, "Bill Gates")');
       }
       );
 });
alert("banco criado e populado");
}
 
function recuperar()

{

var db = openDatabase(
     'meuBanco', 
     '1.0', 
     'My database',
     2 * 1024 * 1024
     );

 db.transaction( function (tx) {
    tx.executeSql(
       'SELECT * FROM contacts',
       [],
       function (tx, results)
       {
          var len = results.rows.length;
          alert('Existem ' + len + ' registros!');
          for (var i = 0; i < len; i++)
          {
             var row = results.rows.item(i);
             alert(row.id + ': ' + row.name);
          }
       },
       function (tx, error)
       {
          alert('ooops ' + error.message);
       }
       );
 });
 }

function excluirtabela()

{
var db = openDatabase(
     'meuBanco', 
     '1.0', 
     'My database',
     2 * 1024 * 1024
     );

 db.transaction( function (tx) {
    tx.executeSql(
       'DROP TABLE contacts',
       [],
       function (tx, results)
       {
          alert('Tabela excluída');
       },
       function (tx, error)
       {
          alert('ooops ' + error.message);
       }
       );
 }); 
}
</script>
</body>


</html>
